<!--
/**
* shelly-spotprice-se
* 
* https://github.com/david-nossebro/shelly-spotprice-se
*
* Special thanks to Jussi isotalo who created the original repo
* available here:
* https://github.com/jisotalo/shelly-porssisahko
* https://github.com/jisotalo/shelly-porssisahko-en
* 
* License: GNU Affero General Public License v3.0 
*/
-->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Spotprice SE</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
</head>

<body>
  <div class="top">
    <div id="title">Spotprice SE  <div id="spin" class="spn"></div></div>
    <div>
      <select id="inst">
        <option value="0">Control #1</option>
      </select>
    </div>
    <div id="copy"><a href="https://github.com/david-nossebro/shelly-spotprice-se" target="_blank">Github repo</a></div>
  </div>

  <div class="tabs">
    <div class="tab">
      <input type="radio" name="a" id="tab-status" checked class="ts">
      <label for="tab-status" class="tab-label">Status</label>
      <div class="tab-content" id="c-tab-status"></div>
    </div>
    <div class="tab">
      <input type="radio" name="a" id="tab-history" class="ts">
      <label for="tab-history" class="tab-label">History</label>
      <div class="tab-content" id="c-tab-history"></div>
    </div>
    <div class="tab">
      <input type="radio" name="a" id="tab-config" class="ts">
      <label for="tab-config" class="tab-label">Settings</label>
      <div class="tab-content" id="c-tab-config"></div>
    </div>
  </div>
  <script>
    /* If true, development environment is active (http is served from localhost) */
    const DEV = window.location.origin.includes("localhost");

    let d = document;
    let createElement = (e) => d.createElement(e);
    let appendChild = (e) => d.body.appendChild(e);

    /**
     * Helper that adds a <script> tag with file f
     */
    let reqJs = (f) => {
      let script = createElement("script");
      script.src = DEV ? f : `?r=${f.replace("tab-", "")}`;
      appendChild(script);
    }

    /*Loading script and css based on if we are running on shelly or dev environment*/
    let css = createElement("link");
    css.rel = "stylesheet";
    css.href = DEV ? "s.css" : "?r=s.css";
    appendChild(css);

    reqJs("s.js");
  </script>
</body>

</html>